___spec___SpecPrivateDirectory="$( cd "$(dirname "$0")" >/dev/null 2>&1 ; pwd -P )"

SPEC_DIR="$1"
SPEC_FILE="$2"
SPEC_NAME_PATTERN="$3"
SPEC_CONFIG="$4"

source "$___spec___SpecPrivateDirectory/specHarness.sh"

spec.loadHelpers "$SPEC_DIR"

spec.beforeFile "$SPEC_FILE"
set -e
source "$SPEC_FILE"
set +e
spec.afterFile "$SPEC_FILE"

spec.runTests "$SPEC_NAME_PATTERN"